'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = renderToString;

var _felaUtils = require('fela-utils');

function renderToString(renderer) {
  var _clusterCache = (0, _felaUtils.clusterCache)(renderer.cache, renderer.mediaQueryOrder),
      fontFaces = _clusterCache.fontFaces,
      statics = _clusterCache.statics,
      keyframes = _clusterCache.keyframes,
      rules = _clusterCache.rules,
      mediaRules = _clusterCache.mediaRules;

  var basicCSS = fontFaces + statics + keyframes + rules;

  return (0, _felaUtils.objectReduce)(mediaRules, function (css, rules, query) {
    return css + (0, _felaUtils.cssifyMediaQueryRules)(query, rules);
  }, basicCSS);
}